# how to make  mail message using template.

There are some approach, but we should apply the solution as below.

- Each mail template is collection of data as ViewModel but render 
by replacing token on admin editable layout.

- All email template share a master template, the master template is generated by php template normaly
as standard view model.

```php
$mail =  new MailModel('user.welcome', [
    'user'=>$user,
]);
$subject = $mail->getSubject(); //
$body    = $mail->getBody(); // merge to body template.
$altBody = $mail->getAltBody(); // merge to body alt template

$mailTemplate()->sendToUserByThisWay();


$message = new Message();

$message->addTo($user->getEmail(), $user->getName());

$transport = new MailTransport($config);

```